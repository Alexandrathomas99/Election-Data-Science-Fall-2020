labels = c("60 /& Over"="60"))
p <- p + scale_color_manual(breaks = c("60","45-59", "30-44","18-29"), name = "Age Group",
values = c('#D5D4D8','#B8B5E0','#9e9ac8','#6a51a3'),
labels = c("60 /& Over"="60", "45-59"="45-59", "30-44" ="30-44",
"18-29" = "18-29"))
p
p <- p + scale_color_manual(breaks = c("60","45-59", "30-44","18-29"), name = "Age Group",
values = c('#D5D4D8','#B8B5E0','#9e9ac8','#6a51a3'),
labels = c("60" = "test", "45-59"="45-59", "30-44" ="30-44",
"18-29" = "18-29"))
p
p <- p + scale_color_manual(breaks = c("60","45-59", "30-44","18-29"), name = "Age Group",
values = c('#D5D4D8','#B8B5E0','#9e9ac8','#6a51a3'),
labels = c("60" = "60 & Older", "45-59"="45-59", "30-44" ="30-44",
"18-29" = "18-29"))
p
p <- p + labs(title = "The older you are, the more likely you are to vote.",
subtitle = "test")
p <- p + labs(title = "The older you are, the more likely you are to vote.",
subtitle = "test")
p
p <- p + labs(title = "Older Americans are the most likely to participate in all kinds of Federal elections",
subtitle = "")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential
test")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential
test")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
test")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
midterm elections. But, regardless of election-type, greater proportions of eligible older voters
turnout than eligible younger voters.")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
midterm elections. But, regardless of election-type, greater proportions of eligible
older voters turnout than eligible younger voters.")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
midterm elections. But, regardless of election-type, greater proportions of eligible
older voters turnout than eligible younger voters.",
caption = "Data from electproject.org. Analysis by Peter Licari")
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
midterm elections. But, regardless of election-type, greater proportions of eligible
older voters turnout than eligible younger voters.",
caption = "Data from electproject.org.\nAnalysis by Peter Licari.")
p
p <- p + theme(axis.line.y = element_blank())
p <- p + theme(axis.line.y = element_blank())
p
p <- p + theme(panel.grid = element_blank())
p
p <- p + theme(panel.grid.major.y  = element_blank(),
panel.grid.minor.y = element_blank())
p
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(hjust = 0))
p
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(hjust = 0),
legend.position = "top")
p
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(hjust = 0),
legend.position = "top",
legend.title.align = .5)
p
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(hjust = 0),
legend.position = "top")+
guide_legend(title.position = "top")
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(hjust = 0),
legend.position = "top")+
scale_color_manual(guide = guide_legend(title.position = "top"))
p
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(vjust = 0))
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
midterm elections. But, regardless of election-type, greater proportions of eligible
older voters turnout than eligible younger voters.",
caption = "Data from electproject.org.\nAnalysis by Peter Licari.")
p
options(htmltools.dir.version = FALSE)
library(xaringanthemer)
style_duo_accent(
primary_color = "#1381B0",
secondary_color = "#FF961C",
inverse_header_color = "#FFFFFF",
text_font_google = google_font("Poppins")
)
xaringanExtra::use_xaringan_extra()
library(tidyverse)
library(kableExtra)
knitr::include_graphics("extreme.png")
knitr::include_graphics("TurnoutOriginal.png")
readr::read_csv("Raw_Turnout_Doc.csv") %>%
kbl() %>%
kable_paper() %>%
scroll_box(width = "800px", height = "250px")
knitr::include_graphics("TurnoutOriginal.png")
turnout_raw <- readr::read_csv("Raw_Turnout_Doc.csv")
turnout_tidyer <- turnout_raw %>%
pivot_longer(!`Turnout Rate`, names_to = "Year", values_to = "Percent") %>%
rename(Age = `Turnout Rate`)
turnout_tidyer %>%
kbl() %>%
kable_paper() %>%
scroll_box(width = "800px", height = "250px")
ggplot(data = turnout_tidyer,aes(x = Year, y = Percent, group = Age, color = Age)) + geom_line() + geom_point()
turnout_tidyer %>%
kbl() %>%
kable_paper() %>%
scroll_box(width = "800px", height = "250px")
turnout_tidyer <- turnout_tidyer %>%
mutate(Year = as.integer(Year),
El_Type = case_when(
Year %% 4 == 0  ~ "Presidential Elections",
TRUE ~ "Midterm Elections"
),
Percent = as.numeric(gsub('%',"",Percent))/100)
ggplot(data = turnout_tidyer,aes(x = Year, y = Percent,
group = Age, color = Age)) +
facet_wrap(~El_Type) +
geom_line() + geom_point()
p <- ggplot(data = turnout_tidyer,aes(x = Year, y = Percent,
group = Age, color = Age)) +
facet_wrap(~El_Type) +
geom_line() + geom_point()
p + scale_y_continuous(name = "Percent of Eligible Population",
labels = scales::percent_format(accuracy = 1))
p <- p + facet_wrap(~El_Type, ncol = 1)
p
p <- p + facet_wrap(~forcats::fct_rev(El_Type), ncol = 1)
p
p <- p + scale_y_continuous(name = "Percent of\nEligible Population",
labels = scales::percent_format(accuracy = 1))
p
p <- p + scale_x_continuous(breaks = seq(1988,2020,4))
p
p <- p + scale_x_continuous(breaks = seq(1988,2020,4), name = "")
p
p <- p + theme_minimal()
p
p <- p + scale_color_discrete(breaks = c("60","45-59", "30-44","18-29"), name = "Age Group")
p
p <- p + scale_color_manual(breaks = c("60","45-59", "30-44","18-29"), name = "Age Group",
values = c('#D5D4D8','#B8B5E0','#9e9ac8','#6a51a3'),
labels = c("60" = "60 & Up", "45-59"="45-59", "30-44" ="30-44",
"18-29" = "18-29"))
p
p <- p + labs(title = "Older Americans are the most likely to participate in Federal elections",
subtitle = "Americans as a whole are more likely to vote in Presidential elections versus
midterm elections. But, regardless of election-type, greater proportions of eligible
older voters turnout than eligible younger voters.",
caption = "Data from electproject.org.\nAnalysis by Peter Licari.")
p
```
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(vjust = 0))
p
```{r, fig.align='center'}
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(vjust = 0))
p <- p + theme(plot.title = element_text(hjust = 0),
plot.subtitle = element_text(hjust = 0),
axis.title.y = element_text(vjust = 0))
p
library(tidyverse)
library(anesr)
data(timeseries_2016)
library(tidyverse)
library(anesr)
anes16 <- data(timeseries_2016)
View(timeseries_2016)
to_na <- function(x){ifelse(x<0,NA,x)}
# Political interest and Voted in 2016
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003 = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
library(tidyverse)
library(anesr)
# 2016 American National Election Survey
data(timeseries_2016)
anes16 <- timeseries_2016
rm(timeseries_2016)
to_na <- function(x){ifelse(x<0,NA,x)}
# Political interest and Voted in 2016
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003 = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
(bar <- ggplot(anes16a, aes(x = V161003)) + geom_bar)
to_na <- function(x){ifelse(x<0,NA,x)}
# Political interest and Voted in 2016
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003 = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
(bar <- ggplot(anes16a, aes(x = V161003)) + geom_bar())
V161267
anes16b <- anes16 %>%
mutate(V161267 = ifelse(V161267<0,NA,V161267))
(hist <- ggplot(anes16b, aes(x = V161267)) + geom_histogram())
anes16c <- anes16 %>%
select(V161003, V161267) %>%
mutate(across(everything(), to_na))
(dot <- ggplot(data = anes16c, aes(x = V161267, y = V161267 )) + geom_point())
anes16c <- anes16 %>%
select(V161003, V161267) %>%
mutate(across(everything(), to_na))
(dot <- ggplot(data = anes16c, aes(x = V161267, y = V161003 )) + geom_point())
anes16c <- anes16 %>%
select(V161003, V161095) %>%
mutate(across(everything(), to_na))
(dot <- ggplot(data = anes16c, aes(x = V161267, y = V161003 )) + geom_point())
anes16c <- anes16 %>%
select(V161092, V161267) %>%
mutate(across(everything(), to_na))
(dot <- ggplot(data = anes16c, aes(x = V161267, y = V161092 )) + geom_point())
anes16c <- anes16 %>%
select(V161092, V161267) %>%
mutate(across(everything(), to_na))
(smooth <- ggplot(data = anes16c, aes(x = V161267, y = V161092 )) + geom_smooth())
dot + smooth
anes16c <- anes16 %>%
select(V161092, V161267) %>%
mutate(across(everything(), to_na))
(dot <- ggplot(data = anes16c, aes(x = V161267, y = V161092 )) + geom_point())
```
dot + geom_smooth()
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079)
View(anes16d)
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(premean = mean(V161086, na.rm = T),
postmean = mean(post, na.rm = T))
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(premean = mean(pre, na.rm = T),
postmean = mean(post, na.rm = T))
View(anes16d)
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(premean = mean(pre, na.rm = T),
postmean = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "test")
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(premean = mean(pre, na.rm = T),
postmean = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "test", cols = everything())
View(anes16d)
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(Pre-Election = mean(pre, na.rm = T),
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(`Pre-Election` = mean(pre, na.rm = T),
`Post-Election` = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "xvar", cols = everything())
View(anes16d)
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(`Pre-Election` = mean(pre, na.rm = T),
`Post-Election` = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "xvar", cols = everything())
(ggplot(anes16d, aes(x = xvar, y = vals)) + geom_line())
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(`Pre-Election` = mean(pre, na.rm = T),
`Post-Election` = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "xvar", cols = everything())
(ggplot(anes16d, aes(x = xvar, y = value)) + geom_line())
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(`Pre-Election` = mean(pre, na.rm = T),
`Post-Election` = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "xvar", cols = everything())
(ggplot(anes16d, aes(x = xvar, y = value), group = "identity") + geom_line())
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(`Pre-Election` = mean(pre, na.rm = T),
`Post-Election` = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "xvar", cols = everything())
(ggplot(anes16d, aes(x = xvar, y = value),) + geom_line( group = "identity"))
dot + geom_line()
# ggplot(data = anes16c, aes(x = V161267, y = V161092 )) + geom_dot + geom_smooth()
anes16c <- anes16 %>%
select(V161092, V161267) %>%
mutate(across(everything(), to_na))
dot <- ggplot(data = anes16c, aes(x = V161267, y = V161092 )) + geom_point()
dot
# Age, FT of Trump, 3pt Party ID
anes16c <- anes16 %>%
select(V161092, V161267, V161155) %>%
mutate(across(everything(), to_na))
dot <- ggplot(data = anes16c, aes(x = V161267, y = V161092 )) + geom_point()
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, color = V161155)) + geom_point()
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, color = V161155)) + geom_point()
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, group = V161155)) + geom_point()
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, fill = V161155)) + geom_point()
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092)) + geom_point(aes(color = V161155))
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092)) + geom_point(aes(group = V161155))
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0)) %>%
mutate(V161155 <- as.factor(V161155))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092)) + geom_point(aes(color = V161155))
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0)) %>%
mutate(V161155 <- as.factor(V161155))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, group = V161155)) + geom_point()
dot1
smooth
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0)) %>%
mutate(V161155 <- as.factor(V161155))
View(anes16c)
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0)) %>%
mutate(V161155 = as.factor(V161155))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, group = V161155)) + geom_point()
dot1
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, group = V161155)) + geom_point()
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 4), !(V161155 == 0)) %>%
mutate(V161155 = as.factor(V161155))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, color = V161155)) + geom_point()
dot1
anes16c <- anes16c %>%
filter(!(V161155 == 5), !(V161155 == 0)) %>%
mutate(V161155 = as.factor(V161155))
dot1 <- ggplot(data = anes16c, aes(x = V161267, y = V161092, color = V161155)) + geom_point()
dot1
line
anes16d <- anes16 %>%
select(V161267, V161086, V162079) %>%
rename(pre = V161086, post = V162079) %>%
mutate(across(everything(),to_na)) %>%
summarise(`Pre-Election` = mean(pre, na.rm = T),
`Post-Election` = mean(post, na.rm = T)) %>%
pivot_longer(names_to = "xvar", cols = everything())
line <- ggplot(anes16d, aes(x = xvar, y = value)) + geom_line(group = "identity")
line
to_na <- function(x){ifelse(x<0,NA,x)}
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003a = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
bar <- ggplot(anes16a, aes(x = V161003a)) + geom_bar(aes(group=V161026))
bar
to_na <- function(x){ifelse(x<0,NA,x)}
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003a = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
bar <- ggplot(anes16a, aes(x = V161003a)) + geom_bar(aes(fill=V161026))
bar
to_na <- function(x){ifelse(x<0,NA,x)}
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003a = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
bar <- ggplot(anes16a, aes(x = V161003a, fill=V161026)) + geom_bar()
bar
to_na <- function(x){ifelse(x<0,NA,x)}
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161003a = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
bar1 <- ggplot(anes16a, aes(x = V161003a, fill=V161026)) + geom_bar()
typeof(anes16a$V161026)
to_na <- function(x){ifelse(x<0,NA,x)}
anes16a <- anes16 %>%
select(V161003, V161026) %>%
mutate(across(everything(), to_na)) %>%
mutate(V161026 =  as.factor(V161026),
V161003a = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
bar1 <- ggplot(anes16a, aes(x = V161003a, fill=V161026)) + geom_bar()
bar1
to_na <- function(x){ifelse(x<0,NA,x)}
anes16a <- anes16 %>%
select(V161003, V162034) %>%
mutate(across(everything(), to_na)) %>%
mutate(V162034 =  as.factor(V162034),
V161003a = case_when(
V161003 == 1 ~ "Always",
V161003 == 2 ~ "Most of the time",
V161003 == 3 ~ "About half the time",
V161003 == 4 ~ "Some of the time",
V161003 == 5 ~ "Never"
))
# plot
bar1 <- ggplot(anes16a, aes(x = V161003a, fill=V162034)) + geom_bar()
bar1
